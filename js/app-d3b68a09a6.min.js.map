{"version":3,"sources":["app.js","step/step.module.js","survey/survey.module.js","action/action.module.js","step/step-definition.directive.js","survey/survey-json.directive.js","survey/survey.controller.js","survey/survey.directive.js","action/action-defintion.directive.js","action/ask-question-data.directive.js","action/display-content-data.directive.js"],"names":["angular","module","directive","restrict","scope","step","link","id","actions","addAction","push","deleteAction","index","splice","templateUrl","survey","prettyJson","toJson","SurveyController","this","steps","outputJson","isCollapsed","toggleCollapse","toggleJson","reset","event","preventDefault","controller","createStep","deleteStep","action","element","on","availableActions","type","text","select","selectedAction","selectedItemText","hasOwnProperty","forEach","syncRules","rules","actionRules","rule","indexOf","name","checked","resetData","tempData","data","resultColumn","$watch","map","value","html"],"mappings":"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","file":"js/app-d3b68a09a6.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular.module('surveyGenerator', [\n    'ngAnimate',\n    'ui.bootstrap',\n    'surveyGenerator.survey'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step', [\n    'surveyGenerator.action'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey', [\n    'angular-clipboard',\n    'surveyGenerator.step'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action', [ ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step')\n    .directive('stepDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          step: '='\n        },\n        link: function(scope) {\n          scope.step.id = scope.step.id || '';\n          scope.step.actions = scope.step.actions || [];\n          // scope.step.transitions = scope.step.transitions || [];\n\n          scope.addAction = function() {\n            scope.step.actions.push({});\n          };\n\n          scope.deleteAction = function(index) {\n            scope.step.actions.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/step/step-defintion.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('surveyJson', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.prettyJson = angular.toJson(scope.survey, true);\n        },\n        templateUrl: 'js/survey/survey-json.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .controller('SurveyController', SurveyController);\n\n  function SurveyController() {\n    this.survey = { steps: [] };\n    this.outputJson = false;\n    this.isCollapsed = true;\n\n    this.toggleCollapse = function() {\n      this.isCollapsed = !this.isCollapsed;\n    };\n\n    this.toggleJson = function() {\n      this.outputJson = !this.outputJson;\n    };\n\n    this.reset = function(event) {\n      event.preventDefault();\n\n      this.survey = { steps: [] };\n      this.outputJson = false;\n    };\n  }\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('survey', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.createStep = function() {\n            scope.survey.steps.push({});\n          };\n\n          scope.deleteStep = function(index) {\n            scope.survey.steps.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/survey/survey.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action')\n    .directive('actionDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope, element) {\n          element.on('click', function(event) {\n            event.preventDefault();\n          });\n\n          scope.availableActions = [{\n            type: 'AskQuestion',\n            text: 'Ask Question'\n          }, {\n            type: 'DisplayContent',\n            text: 'Display HTML'\n          }];\n\n          scope.select = function(selectedAction) {\n            scope.action.type = selectedAction.type;\n            scope.selectedItemText = selectedAction.text;\n          };\n\n          if (scope.action.hasOwnProperty('type')) {\n            scope.availableActions.forEach(function(action) {\n              if (action.type === scope.action.type) {\n                scope.selectedItemText = action.text;\n              }\n            });\n          } else {\n            scope.select(scope.availableActions[0]);\n          }\n        },\n        templateUrl: 'js/action/action-definition.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  function syncRules(rules, actionRules) {\n    angular.forEach(rules, function(rule) {\n      if (actionRules.indexOf(rule.name) !== -1) {\n        rule.checked = true;\n      }\n    });\n  }\n\n  function resetData(scope) {\n    var tempData = scope.action.data || {};\n\n    scope.action.data = {\n      text: tempData.text || '',\n      resultColumn: tempData.resultColumn || '',\n      rules: tempData.rules || []\n    };\n  }\n\n  angular.module('surveyGenerator')\n    .directive('askQuestionData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope) {\n          scope.rules = [{\n            text: 'Is a whole number',\n            name: 'IsAWholeNumber',\n            checked: false\n          }, {\n            text: 'Required',\n            name: 'Required',\n            checked: false\n          }];\n\n          resetData(scope);\n\n          syncRules(scope.rules, scope.action.data.rules);\n\n          scope.$watch(function() {\n            return scope.rules.map(function(rule) {\n              return rule.checked;\n            });\n          }, function() {\n            scope.action.data.rules = [];\n\n            angular.forEach(scope.rules, function(value) {\n              if (value.checked) {\n                scope.action.data.rules.push(value.name);\n              }\n            });\n          }, true);\n        },\n        templateUrl: 'js/action/ask-question-data.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  function resetData(scope) {\n    var tempData = scope.action.data || {};\n\n    scope.action.data = {\n      html: tempData.html || ''\n    };\n  }\n\n  angular.module('surveyGenerator')\n    .directive('displayContentData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope) {\n          resetData(scope);\n        },\n        templateUrl: 'js/action/display-content-data.html'\n      };\n    });\n})();\n"],"sourceRoot":"/source/"}