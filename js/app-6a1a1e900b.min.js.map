{"version":3,"sources":["app.js","action/action.module.js","step/step.module.js","survey/survey.module.js","action/action-defintion.directive.js","action/ask-question-data.directive.js","action/display-content-data.directive.js","step/step-definition.directive.js","survey/survey-json.directive.js","survey/survey.controller.js","survey/survey.directive.js"],"names":["angular","module","directive","restrict","scope","action","link","element","on","event","preventDefault","availableActions","type","text","select","selectedAction","selectedItemText","hasOwnProperty","forEach","templateUrl","syncRules","rules","actionRules","rule","actionRule","name","checked","resetData","tempData","data","resultColumn","$watch","map","value","push","html","step","id","actions","addAction","deleteAction","index","splice","survey","prettyJson","toJson","SurveyController","this","steps","outputJson","isCollapsed","toggleCollapse","toggleJson","reset","controller","createStep","deleteStep"],"mappings":"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","file":"js/app-6a1a1e900b.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular.module('surveyGenerator', [\n    'ngAnimate',\n    'ui.bootstrap',\n    'surveyGenerator.survey'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action', [ ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step', [\n    'surveyGenerator.action'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey', [\n    'angular-clipboard',\n    'surveyGenerator.step'\n  ]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.action')\n    .directive('actionDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope, element) {\n          element.on('click', function(event) {\n            event.preventDefault();\n          });\n\n          scope.availableActions = [{\n            type: 'AskQuestion',\n            text: 'Ask Question'\n          }, {\n            type: 'DisplayContent',\n            text: 'Display HTML'\n          }];\n\n          scope.select = function(selectedAction) {\n            scope.action.type = selectedAction.type;\n            scope.selectedItemText = selectedAction.text;\n          };\n\n          if (scope.action.hasOwnProperty('type')) {\n            scope.availableActions.forEach(function(action) {\n              if (action.type === scope.action.type) {\n                scope.selectedItemText = action.text;\n              }\n            });\n          } else {\n            scope.select(scope.availableActions[0]);\n          }\n        },\n        templateUrl: 'js/action/action-definition.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  function syncRules(rules, actionRules) {\n    angular.forEach(rules, function(rule) {\n      angular.forEach(actionRules, function(actionRule) {\n        if (actionRule.name === rule.name) {\n          rule.checked = true;\n        }\n      });\n    });\n  }\n\n  function resetData(scope) {\n    var tempData = scope.action.data || {};\n\n    scope.action.data = {\n      text: tempData.text || '',\n      resultColumn: tempData.resultColumn || '',\n      rules: tempData.rules || []\n    };\n  }\n\n  angular.module('surveyGenerator')\n    .directive('askQuestionData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope) {\n          scope.rules = [{\n            text: 'Is a whole number',\n            name: 'IsAWholeNumber',\n            checked: false\n          }, {\n            text: 'Required',\n            name: 'Required',\n            checked: false\n          }];\n\n          resetData(scope);\n\n          syncRules(scope.rules, scope.action.data.rules);\n\n          scope.$watch(function() {\n            return scope.rules.map(function(rule) {\n              return rule.checked;\n            });\n          }, function() {\n            scope.action.data.rules = [];\n\n            angular.forEach(scope.rules, function(value) {\n              if (value.checked) {\n                scope.action.data.rules.push({name: value.name});\n              }\n            });\n          }, true);\n        },\n        templateUrl: 'js/action/ask-question-data.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  function resetData(scope) {\n    var tempData = scope.action.data || {};\n\n    scope.action.data = {\n      html: tempData.html || ''\n    };\n  }\n\n  angular.module('surveyGenerator')\n    .directive('displayContentData', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          action: '='\n        },\n        link: function(scope) {\n          resetData(scope);\n        },\n        templateUrl: 'js/action/display-content-data.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.step')\n    .directive('stepDefinition', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          step: '='\n        },\n        link: function(scope) {\n          scope.step.id = scope.step.id || '';\n          scope.step.actions = scope.step.actions || [];\n          // scope.step.transitions = scope.step.transitions || [];\n\n          scope.addAction = function() {\n            scope.step.actions.push({});\n          };\n\n          scope.deleteAction = function(index) {\n            scope.step.actions.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/step/step-defintion.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('surveyJson', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.prettyJson = angular.toJson(scope.survey, true);\n        },\n        templateUrl: 'js/survey/survey-json.html'\n      };\n    });\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .controller('SurveyController', SurveyController);\n\n  function SurveyController() {\n    this.survey = { steps: [] };\n    this.outputJson = false;\n    this.isCollapsed = true;\n\n    this.toggleCollapse = function() {\n      this.isCollapsed = !this.isCollapsed;\n    };\n\n    this.toggleJson = function() {\n      this.outputJson = !this.outputJson;\n    };\n\n    this.reset = function(event) {\n      event.preventDefault();\n\n      this.survey = { steps: [] };\n      this.outputJson = false;\n    };\n  }\n})();\n","(function() {\n  'use strict';\n\n  angular.module('surveyGenerator.survey')\n    .directive('survey', function() {\n      return {\n        restrict: 'E',\n        scope: {\n          survey: '='\n        },\n        link: function(scope) {\n          scope.createStep = function() {\n            scope.survey.steps.push({});\n          };\n\n          scope.deleteStep = function(index) {\n            scope.survey.steps.splice(index, 1);\n          };\n        },\n        templateUrl: 'js/survey/survey.html'\n      };\n    });\n})();\n"],"sourceRoot":"/source/"}